<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입 js</title>
    <script>
        window.addEventListener("load",pageLoadedHandler);
        function pageLoadedHandler(){
            //submit 버튼이 눌려지면 이벤트 등록
            document.getElementById("btn1").addEventListener("click",btn1submit);
        }
        //submit 클릭 관련 함수는 onload밖에 정의하는 경우가 많음. why? 인라인 형태로 호출될 가능성이 있으므로
            function btnsubmit(){
            console.log("btnsubmit 진입");
            var pw1=document.getElementById("pwd");
            var pw2=document.getElementById("repwd");

            var pw1value=pw1.value;
            var pw2value=pw2.value;

            //입력되지 않은 칸이 잇는지 확인
            if(document.getElementById("id").value.length==0) return false;
            if(document.getElementById("pwd").value.length==0) return false;
            if(document.getElementById("name").value.length==0) return false;


        //비밀번호 첫글자는 대문자, 6글자 이상, 12글자 이하
        //경고 popup "조건에 맞게 입력해주세요"(action으로 이동x)
            if(pw1value.length<6 || pw1value.length>12){
                alert("조건에 맞게 입력해주세요.");
                return false;
            }
            //비밀번호와 비밀번호 확인란이 동일하지 않으면
        //alert창으로 "동일하게 입력해주세요" (action 이동x)
            if(pw1value != pw2value){
                alert("동일하게 입력해주세요");
                return false;
            }
        //그 외는 action으로 데이터 전달하면서 이동됨.
            {
                var v1=document.getElementById("frmId1");
                if(document.getElementById("id").value=="admin"){
                    frmId1.action("#관리자페이지");
                }else{
                    frmId1.action("#메인페이지");
                }
                frmId1.action="#";
                frmId1.method="POST";
                // return true;
            }
        }
    </script>
</head>
<body>
    <!-- <form action="#" method="POST" id="frmId1"> -->
    <form id="frmId1">
<fieldset>
    <legend>회원가입</legend>
    <label for="id">아이디:</label>
    <input type="text" id="id" name="id" required>
    <span id="checkid"></span>
    <br><br>
    <label for="pwd">비밀번호:</label>
    <input type="password" id="pwd" name="pwd" required>
    <br><br>
    <label for="repwd" id="repwd">비밀번호 확인:</label>
    <input type="password" id="repwd" required>
    <!-- action으로 전달하지 않을거면 name 설정 안해도됨 -->
    <span id="checkpwd"></span>
    <br><br>
    <label for="name">이름:</label>
    <input type="text" id="name" name="name" required>
    <!-- submit 안되게하는 방법 없음<button type="submit" id="submit">회원가입</button> -->
    <!--이방법도 문제가 좀 잇음 <button type="submit" id="submit" onclick="return btnsubmit();">회원가입</button> -->
    <button type="button" id="btn1">버튼타입제출</button>
</fieldset>
</form>
</html>